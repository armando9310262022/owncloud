define(["./chunks/useAppDefaults-5dde407f","./chunks/useClientService-0039200a","./chunks/functions-31457630","./chunks/vendor-e2ecbc23","./chunks/useRoute-035af8cd","./chunks/useRequest-915f01e1"],(function(e,n,t,i,r,o){"use strict";var a={cs:{},de:{"Loading PDF document":"PDF-Dokument wird geladen",msg:"Nachricht","PDF Viewer":"PDF Vorschau"},es:{"Loading PDF document":"Cargando documento PDF",msg:"msg","PDF Viewer":"Visor PDF"},fr:{"Loading PDF document":"Chargement du document PDF",msg:"msg","PDF Viewer":"Visionneuse PDF"},gl:{msg:"msx"},it:{"Loading PDF document":"Caricamento documento PDF","PDF Viewer":"Visualizzatore PDF"}};const s={name:"ErrorScreen"};var d=function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticClass:"oc-position-center oc-text-center"},[n("oc-icon",{attrs:{size:"xxlarge",name:"error-warning","fill-type":"line"}})],1)};d._withStripped=!0;const c=i.normalizeComponent({render:d,staticRenderFns:[]},undefined,s,undefined,false,undefined,!1,void 0,void 0,void 0);const l={name:"LoadingScreen"};var u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"oc-position-center oc-text-center"},[t("oc-spinner",{attrs:{size:"xlarge"}}),e._v(" "),t("p",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"oc-invisible"},[e._v("Loading PDF document")])],1)};u._withStripped=!0;const p=i.normalizeComponent({render:u,staticRenderFns:[]},undefined,l,undefined,false,undefined,!1,void 0,void 0,void 0);const f=i.defineComponent({name:"PDFViewer",components:{ErrorScreen:c,LoadingScreen:p,AppTopBar:i.__vue_component__$4},setup:()=>({...e.useAppDefaults({applicationId:"pdf-viewer"})}),data:()=>({loading:!0,loadingError:!1,filePath:"",url:"",resource:null}),created(){this.loadPdf(this.currentFileContext)},beforeDestroy(){this.unloadPdf()},methods:{async loadPdf(e){try{this.loading=!0,this.resource=await this.getFileResource(e.path),this.url=await this.getUrlForResource(this.resource,{disposition:"inline"})}catch(e){this.loadingError=!0,console.error("Error fetching pdf",e)}finally{this.loading=!1}},unloadPdf(){this.revokeUrl(this.url)}}});var h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("main",[t("app-top-bar",{attrs:{resource:e.resource},on:{close:e.closeApp}}),e._v(" "),e.loading?t("loading-screen"):e.loadingError?t("error-screen"):t("div",{staticClass:"oc-height-1-1"},[t("object",{staticClass:"pdf-viewer oc-width-1-1",attrs:{data:e.url,type:"application/pdf"}})])],1)};h._withStripped=!0;return{appInfo:{name:"PDF Viewer",id:"pdf-viewer",icon:"resource-type-pdf",iconFillType:"fill",extensions:[{extension:"pdf",routeName:"pdf-viewer",canBeDefault:!0}]},routes:[{path:"/:filePath*",component:i.normalizeComponent({render:h,staticRenderFns:[]},undefined,f,"data-v-0e69681f",false,undefined,!1,void 0,void 0,void 0),name:"pdf-viewer",meta:{auth:!1,title:"PDF Viewer",patchCleanPath:!0}}],translations:a}}));
