define(["exports","./chunks/vendor-e2ecbc23","./chunks/functions-31457630"],(function(e,t,r){"use strict";var s=Object.freeze({__proto__:null,buildWebDavSpacesPath:r.buildWebDavSpacesPath,extractDomSelector:r.extractDomSelector,buildSpace:r.buildSpace});const n="https://ocis.ocis-traefik.latest.owncloud.works".replace(/\/+$/,""),a=",";class o extends Error{field;name="RequiredError";constructor(e,t){super(t),this.field=e}}const i="https://example.com",d=function(e,t,r){if(null==r)throw new o(t,`Required parameter ${t} was null or undefined when calling ${e}.`)};function c(e,t,r=""){"object"==typeof t?Array.isArray(t)?t.forEach((t=>c(e,t,r))):Object.keys(t).forEach((s=>c(e,t[s],`${r}${""!==r?".":""}${s}`))):e.has(r)?e.append(r,t):e.set(r,t)}const u=function(e,...t){const r=new URLSearchParams(e.search);c(r,t),e.search=r.toString()},p=function(e,t,r){const s="string"!=typeof e;return(s&&r&&r.isJsonMime?r.isJsonMime(t.headers["Content-Type"]):s)?JSON.stringify(void 0!==e?e:{}):e||""},l=function(e){return e.pathname+e.search+e.hash},h=function(e,t,r,s){return(n=t,a=r)=>{const o={...e.options,url:(s?.basePath||a)+e.url};return n.request(o)}},m=function(e){const r=function(e){return{createDrive:async(t,r={})=>{d("createDrive","drive",t);const s=new URL("/drives",i);let n;e&&(n=e.baseOptions);const a={method:"POST",...n,...r},o={"Content-Type":"application/json"};u(s,{});let c=n&&n.headers?n.headers:{};return a.headers={...o,...c,...r.headers},a.data=p(t,a,e),{url:l(s),options:a}},deleteDrive:async(t,r,s={})=>{d("deleteDrive","driveId",t);const n="/drives/{drive-id}".replace("{drive-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"DELETE",...o,...s},p={};null!=r&&(p["If-Match"]=String(r)),u(a,{});let h=o&&o.headers?o.headers:{};return c.headers={...p,...h,...s.headers},{url:l(a),options:c}},getDrive:async(t,r,s,n={})=>{d("getDrive","driveId",t);const o="/drives/{drive-id}".replace("{drive-id}",encodeURIComponent(String(t))),c=new URL(o,i);let p;e&&(p=e.baseOptions);const h={method:"GET",...p,...n},m={};r&&(m.$select=Array.from(r).join(a)),s&&(m.$expand=Array.from(s).join(a)),u(c,m);let g=p&&p.headers?p.headers:{};return h.headers={...g,...n.headers},{url:l(c),options:h}},updateDrive:async(t,r,s={})=>{d("updateDrive","driveId",t),d("updateDrive","drive",r);const n="/drives/{drive-id}".replace("{drive-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"PATCH",...o,...s},h={"Content-Type":"application/json"};u(a,{});let m=o&&o.headers?o.headers:{};return c.headers={...h,...m,...s.headers},c.data=p(r,c,e),{url:l(a),options:c}}}}(e);return{async createDrive(s,a){const o=await r.createDrive(s,a);return h(o,t.axios,n,e)},async deleteDrive(s,a,o){const i=await r.deleteDrive(s,a,o);return h(i,t.axios,n,e)},async getDrive(s,a,o,i){const d=await r.getDrive(s,a,o,i);return h(d,t.axios,n,e)},async updateDrive(s,a,o){const i=await r.updateDrive(s,a,o);return h(i,t.axios,n,e)}}},g=function(e){const r=function(e){return{addMember:async(t,r,s={})=>{d("addMember","groupId",t),d("addMember","memberReference",r);const n="/groups/{group-id}/members/$ref".replace("{group-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"POST",...o,...s},h={"Content-Type":"application/json"};u(a,{});let m=o&&o.headers?o.headers:{};return c.headers={...h,...m,...s.headers},c.data=p(r,c,e),{url:l(a),options:c}},deleteGroup:async(t,r,s={})=>{d("deleteGroup","groupId",t);const n="/groups/{group-id}".replace("{group-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"DELETE",...o,...s},p={};null!=r&&(p["If-Match"]=String(r)),u(a,{});let h=o&&o.headers?o.headers:{};return c.headers={...p,...h,...s.headers},{url:l(a),options:c}},deleteMember:async(t,r,s,n={})=>{d("deleteMember","groupId",t),d("deleteMember","directoryObjectId",r);const a="/groups/{group-id}/members/{directory-object-id}/$ref".replace("{group-id}",encodeURIComponent(String(t))).replace("{directory-object-id}",encodeURIComponent(String(r))),o=new URL(a,i);let c;e&&(c=e.baseOptions);const p={method:"DELETE",...c,...n},h={};null!=s&&(h["If-Match"]=String(s)),u(o,{});let m=c&&c.headers?c.headers:{};return p.headers={...h,...m,...n.headers},{url:l(o),options:p}},getGroup:async(t,r,s,n={})=>{d("getGroup","groupId",t);const o="/groups/{group-id}".replace("{group-id}",encodeURIComponent(String(t))),c=new URL(o,i);let p;e&&(p=e.baseOptions);const h={method:"GET",...p,...n},m={};r&&(m.$select=Array.from(r).join(a)),s&&(m.$expand=Array.from(s).join(a)),u(c,m);let g=p&&p.headers?p.headers:{};return h.headers={...g,...n.headers},{url:l(c),options:h}},updateGroup:async(t,r,s={})=>{d("updateGroup","groupId",t),d("updateGroup","group",r);const n="/groups/{group-id}".replace("{group-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"PATCH",...o,...s},h={"Content-Type":"application/json"};u(a,{});let m=o&&o.headers?o.headers:{};return c.headers={...h,...m,...s.headers},c.data=p(r,c,e),{url:l(a),options:c}}}}(e);return{async addMember(s,a,o){const i=await r.addMember(s,a,o);return h(i,t.axios,n,e)},async deleteGroup(s,a,o){const i=await r.deleteGroup(s,a,o);return h(i,t.axios,n,e)},async deleteMember(s,a,o,i){const d=await r.deleteMember(s,a,o,i);return h(d,t.axios,n,e)},async getGroup(s,a,o,i){const d=await r.getGroup(s,a,o,i);return h(d,t.axios,n,e)},async updateGroup(s,a,o){const i=await r.updateGroup(s,a,o);return h(i,t.axios,n,e)}}},w=function(e){const r=function(e){return{createGroup:async(t,r={})=>{d("createGroup","group",t);const s=new URL("/groups",i);let n;e&&(n=e.baseOptions);const a={method:"POST",...n,...r},o={"Content-Type":"application/json"};u(s,{});let c=n&&n.headers?n.headers:{};return a.headers={...o,...c,...r.headers},a.data=p(t,a,e),{url:l(s),options:a}},listGroups:async(t,r,s,n,o,d,c,p,h={})=>{const m=new URL("/groups",i);let g;e&&(g=e.baseOptions);const w={method:"GET",...g,...h},b={};void 0!==t&&(b.$top=t),void 0!==r&&(b.$skip=r),void 0!==s&&(b.$search=s),void 0!==n&&(b.$filter=n),void 0!==o&&(b.$count=o),d&&(b.$orderby=Array.from(d).join(a)),c&&(b.$select=Array.from(c).join(a)),p&&(b.$expand=Array.from(p).join(a)),u(m,b);let y=g&&g.headers?g.headers:{};return w.headers={...y,...h.headers},{url:l(m),options:w}}}}(e);return{async createGroup(s,a){const o=await r.createGroup(s,a);return h(o,t.axios,n,e)},async listGroups(s,a,o,i,d,c,u,p,l){const m=await r.listGroups(s,a,o,i,d,c,u,p,l);return h(m,t.axios,n,e)}}},b=function(e){const r=function(e){return{changeOwnPassword:async(t,r={})=>{d("changeOwnPassword","passwordChange",t);const s=new URL("/me/changePassword",i);let n;e&&(n=e.baseOptions);const a={method:"POST",...n,...r},o={"Content-Type":"application/json"};u(s,{});let c=n&&n.headers?n.headers:{};return a.headers={...o,...c,...r.headers},a.data=p(t,a,e),{url:l(s),options:a}}}}(e);return{async changeOwnPassword(s,a){const o=await r.changeOwnPassword(s,a);return h(o,t.axios,n,e)}}},y=function(e){const r=function(e){return{listMyDrives:async(t,r,s,n,o,d,c,p={})=>{const h=new URL("/me/drives",i);let m;e&&(m=e.baseOptions);const g={method:"GET",...m,...p},w={};void 0!==t&&(w.$top=t),void 0!==r&&(w.$skip=r),void 0!==s&&(w.$orderby=s),void 0!==n&&(w.$filter=n),void 0!==o&&(w.$count=o),d&&(w.$select=Array.from(d).join(a)),c&&(w.$expand=Array.from(c).join(a)),u(h,w);let b=m&&m.headers?m.headers:{};return g.headers={...b,...p.headers},{url:l(h),options:g}}}}(e);return{async listMyDrives(s,a,o,i,d,c,u,p){const l=await r.listMyDrives(s,a,o,i,d,c,u,p);return h(l,t.axios,n,e)}}};class f extends class{basePath;axios;configuration;constructor(e,r=n,s=t.axios){this.basePath=r,this.axios=s,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)}}{listMyDrives(e,t,r,s,n,a,o,i){return y(this.configuration).listMyDrives(e,t,r,s,n,a,o,i).then((e=>e(this.axios,this.basePath)))}}const v=function(e){const r=function(e){return{getOwnUser:async(t,r={})=>{const s=new URL("/me",i);let n;e&&(n=e.baseOptions);const o={method:"GET",...n,...r},d={};t&&(d.$expand=Array.from(t).join(a)),u(s,d);let c=n&&n.headers?n.headers:{};return o.headers={...c,...r.headers},{url:l(s),options:o}}}}(e);return{async getOwnUser(s,a){const o=await r.getOwnUser(s,a);return h(o,t.axios,n,e)}}},U=function(e){const r=function(e){return{deleteUser:async(t,r,s={})=>{d("deleteUser","userId",t);const n="/users/{user-id}".replace("{user-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"DELETE",...o,...s},p={};null!=r&&(p["If-Match"]=String(r)),u(a,{});let h=o&&o.headers?o.headers:{};return c.headers={...p,...h,...s.headers},{url:l(a),options:c}},getUser:async(t,r,s,n={})=>{d("getUser","userId",t);const o="/users/{user-id}".replace("{user-id}",encodeURIComponent(String(t))),c=new URL(o,i);let p;e&&(p=e.baseOptions);const h={method:"GET",...p,...n},m={};r&&(m.$select=Array.from(r).join(a)),s&&(m.$expand=Array.from(s).join(a)),u(c,m);let g=p&&p.headers?p.headers:{};return h.headers={...g,...n.headers},{url:l(c),options:h}},updateUser:async(t,r,s={})=>{d("updateUser","userId",t),d("updateUser","user",r);const n="/users/{user-id}".replace("{user-id}",encodeURIComponent(String(t))),a=new URL(n,i);let o;e&&(o=e.baseOptions);const c={method:"PATCH",...o,...s},h={"Content-Type":"application/json"};u(a,{});let m=o&&o.headers?o.headers:{};return c.headers={...h,...m,...s.headers},c.data=p(r,c,e),{url:l(a),options:c}}}}(e);return{async deleteUser(s,a,o){const i=await r.deleteUser(s,a,o);return h(i,t.axios,n,e)},async getUser(s,a,o,i){const d=await r.getUser(s,a,o,i);return h(d,t.axios,n,e)},async updateUser(s,a,o){const i=await r.updateUser(s,a,o);return h(i,t.axios,n,e)}}},D=function(e){const r=function(e){return{createUser:async(t,r={})=>{d("createUser","user",t);const s=new URL("/users",i);let n;e&&(n=e.baseOptions);const a={method:"POST",...n,...r},o={"Content-Type":"application/json"};u(s,{});let c=n&&n.headers?n.headers:{};return a.headers={...o,...c,...r.headers},a.data=p(t,a,e),{url:l(s),options:a}},listUsers:async(t,r,s,n,o,d,c,p,h={})=>{const m=new URL("/users",i);let g;e&&(g=e.baseOptions);const w={method:"GET",...g,...h},b={};void 0!==t&&(b.$top=t),void 0!==r&&(b.$skip=r),void 0!==s&&(b.$search=s),void 0!==n&&(b.$filter=n),void 0!==o&&(b.$count=o),d&&(b.$orderby=Array.from(d).join(a)),c&&(b.$select=Array.from(c).join(a)),p&&(b.$expand=Array.from(p).join(a)),u(m,b);let y=g&&g.headers?g.headers:{};return w.headers={...y,...h.headers},{url:l(m),options:w}}}}(e);return{async createUser(s,a){const o=await r.createUser(s,a);return h(o,t.axios,n,e)},async listUsers(s,a,o,i,d,c,u,p,l){const m=await r.listUsers(s,a,o,i,d,c,u,p,l);return h(m,t.axios,n,e)}}};class O{apiKey;username;password;accessToken;basePath;baseOptions;formDataCtor;constructor(e={}){this.apiKey=e.apiKey,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}}const G=(e,t)=>{const r=new URL(e);r.pathname=[...r.pathname.split("/"),"graph","v1.0"].filter(Boolean).join("/");const s=new O({basePath:r.href}),n=new f(s,s.basePath,t),a=function(e,t,r){const s=v(e);return{getOwnUser:(e,n)=>s.getOwnUser(e,n).then((e=>e(r,t)))}}(s,s.basePath,t),o=function(e,t,r){const s=b(e);return{changeOwnPassword:(e,n)=>s.changeOwnPassword(e,n).then((e=>e(r,t)))}}(s,s.basePath,t),i=function(e,t,r){const s=U(e);return{deleteUser:(e,n,a)=>s.deleteUser(e,n,a).then((e=>e(r,t))),getUser:(e,n,a,o)=>s.getUser(e,n,a,o).then((e=>e(r,t))),updateUser:(e,n,a)=>s.updateUser(e,n,a).then((e=>e(r,t)))}}(s,s.basePath,t),d=function(e,t,r){const s=D(e);return{createUser:(e,n)=>s.createUser(e,n).then((e=>e(r,t))),listUsers:(e,n,a,o,i,d,c,u,p)=>s.listUsers(e,n,a,o,i,d,c,u,p).then((e=>e(r,t)))}}(s,s.basePath,t),c=function(e,t,r){const s=g(e);return{addMember:(e,n,a)=>s.addMember(e,n,a).then((e=>e(r,t))),deleteGroup:(e,n,a)=>s.deleteGroup(e,n,a).then((e=>e(r,t))),deleteMember:(e,n,a,o)=>s.deleteMember(e,n,a,o).then((e=>e(r,t))),getGroup:(e,n,a,o)=>s.getGroup(e,n,a,o).then((e=>e(r,t))),updateGroup:(e,n,a)=>s.updateGroup(e,n,a).then((e=>e(r,t)))}}(s,s.basePath,t),u=function(e,t,r){const s=w(e);return{createGroup:(e,n)=>s.createGroup(e,n).then((e=>e(r,t))),listGroups:(e,n,a,o,i,d,c,u,p)=>s.listGroups(e,n,a,o,i,d,c,u,p).then((e=>e(r,t)))}}(s,s.basePath,t),p=function(e,t,r){const s=m(e);return{createDrive:(e,n)=>s.createDrive(e,n).then((e=>e(r,t))),deleteDrive:(e,n,a)=>s.deleteDrive(e,n,a).then((e=>e(r,t))),getDrive:(e,n,a,o)=>s.getDrive(e,n,a,o).then((e=>e(r,t))),updateDrive:(e,n,a)=>s.updateDrive(e,n,a).then((e=>e(r,t)))}}(s,s.basePath,t);return{drives:{listMyDrives:(e,t)=>n.listMyDrives(0,0,e,t),getDrive:e=>p.getDrive(e),createDrive:(e,t)=>p.createDrive(e,t),updateDrive:(e,t,r)=>p.updateDrive(e,t,r),deleteDrive:(e,t,r)=>p.deleteDrive(e,t,r)},users:{getUser:e=>i.getUser(e,new Set([]),new Set(["drive"])),createUser:e=>d.createUser(e),getMe:()=>a.getOwnUser(new Set(["memberOf"])),changeOwnPassword:(e,t)=>o.changeOwnPassword({currentPassword:e,newPassword:t}),editUser:(e,t)=>i.updateUser(e,t),deleteUser:e=>i.deleteUser(e),listUsers:e=>d.listUsers(0,0,"","",!1,new Set([e]),new Set([]),new Set(["memberOf"]))},groups:{createGroup:e=>u.createGroup(e),editGroup:(e,t)=>c.updateGroup(e,t),deleteGroup:e=>c.deleteGroup(e),listGroups:e=>u.listGroups(0,0,"","",!1,new Set([e]),new Set([]),new Set(["members"])),addMember:(e,t,r)=>{c.addMember(e,{"@odata.id":`${r}graph/v1.0/users/${t}`})},deleteMember:(e,t)=>{c.deleteMember(e,t)}}}},P=(e,r)=>{const s=new URL(e);s.pathname=[...s.pathname.split("/"),"ocs","v1.php"].filter(Boolean).join("/");const n=((e,r)=>{const s=new URL(e);s.pathname=[...s.pathname.split("/"),"cloud","capabilities"].filter(Boolean).join("/"),s.searchParams.append("format","json");const n=s.href;return{async getCapabilities(){const e=await r.get(n);return t.get(e,"data.ocs.data",{capabilities:null,version:null})}}})(s.href,r);return{getCapabilities:()=>n.getCapabilities()}};e.client=(e,t)=>({graph:G(e,t),ocs:P(e,t)}),e.helpers=s,Object.defineProperty(e,"__esModule",{value:!0})}));
